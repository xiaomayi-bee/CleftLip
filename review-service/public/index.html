<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>医学图像标点审核系统</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- 顶部菜单栏 -->
        <div class="menu-bar">
            <div class="menu-left">
                <h1>医学图像标点审核系统</h1>
            </div>
            <div class="menu-right">
                <div class="user-info">
                    <span class="user-label">审核员:</span>
                    <span id="currentUserName" class="user-name">-</span>
                </div>
                <button id="refreshBtn" class="btn btn-primary">刷新数据</button>
                <button id="logoutBtn" class="btn btn-secondary">退出登录</button>
            </div>
        </div>

        <!-- 主内容区域 -->
        <div class="main-content">
            <!-- 左侧文件列表 -->
            <div class="file-list-panel">
                <div class="panel-header">
                    <h3>标注文件列表</h3>
                </div>
                
                <!-- 搜索和筛选控件 -->
                <div class="filter-controls">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="搜索文件名或病历号..." class="search-input">
                    </div>
                    <div class="filter-box">
                        <label for="statusFilter">审核状态:</label>
                        <select id="statusFilter" class="filter-select">
                            <option value="all">全部</option>
                            <option value="pending">未审核</option>
                            <option value="approved">审核通过</option>
                            <option value="rejected">审核未通过</option>
                        </select>
                    </div>
                    <div class="sort-box">
                        <label for="sortSelect">排序方式:</label>
                        <select id="sortSelect" class="sort-select">
                            <option value="name-asc">文件名 (A-Z)</option>
                            <option value="name-desc">文件名 (Z-A)</option>
                            <option value="date-desc">上传时间 (新-旧)</option>
                            <option value="date-asc">上传时间 (旧-新)</option>
                            <option value="size-desc">文件大小 (大-小)</option>
                            <option value="size-asc">文件大小 (小-大)</option>
                        </select>
                    </div>
                </div>
                
                <div class="file-list-container">
                    <ul id="annotationFileList" class="annotation-file-list">
                        <!-- 标注文件列表将通过JavaScript动态生成 -->
                    </ul>
                </div>
            </div>

            <!-- 右侧审核详情 -->
            <div class="audit-detail-panel">
                <div class="panel-header">
                    <h3>审核详情</h3>
                </div>
                
                <div class="audit-content">
                    <div class="image-preview-section">
                        <h4>图像预览</h4>
                        <div class="image-container">
                            <img id="imagePreview" src="" alt="图像预览" style="display: none;">
                            <canvas id="overlayCanvas" class="overlay-canvas" style="display: none;"></canvas>
                            <div id="noImageMessage" class="no-image-message">暂无图像</div>
                            <div class="image-controls">
                                <button id="zoomOutBtn" class="zoom-control-btn">-</button>
                                <span id="zoomLevelDisplay" class="zoom-level">100%</span>
                                <button id="zoomInBtn" class="zoom-control-btn">+</button>
                            </div>
                        </div>
                        <div class="display-mode-controls">
                            <button id="displayFullNameBtn" class="btn btn-primary btn-sm display-mode-btn active">显示全名</button>
                            <button id="displayNumberBtn" class="btn btn-secondary btn-sm display-mode-btn">显示编号</button>
                            <button id="displayPointOnlyBtn" class="btn btn-secondary btn-sm display-mode-btn">仅显示点</button>
                        </div>
                    </div>
                    
                    <div class="patient-info-section">
                        <h4>病人信息</h4>
                        <div class="info-item">
                            <label>病历号:</label>
                            <span id="patientIdDisplay">-</span>
                        </div>
                        <div class="info-item">
                            <label>拍摄阶段:</label>
                            <span id="phaseDisplay">-</span>
                        </div>
                        <div class="info-item">
                            <label>拍摄角度:</label>
                            <span id="angleDisplay">-</span>
                        </div>
                    </div>
                    
                    <div class="points-data-section">
                        <h4>标点数据</h4>
                        <div class="points-table-container">
                            <table id="pointsTable" class="points-table">
                                <thead>
                                    <tr>
                                        <th>标点名称</th>
                                        <th>存在</th>
                                        <th>X坐标</th>
                                        <th>Y坐标</th>
                                    </tr>
                                </thead>
                                <tbody id="pointsTableBody">
                                    <!-- 标点数据将通过JavaScript动态生成 -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="audit-controls-section">
                        <h4>审核操作</h4>
                        <div class="audit-actions">
                            <button id="approveBtn" class="btn btn-success">批准</button>
                            <button id="rejectBtn" class="btn btn-danger">拒绝</button>
                        </div>
                        <div class="audit-comments">
                            <label for="commentsTextarea">审核意见:</label>
                            <textarea id="commentsTextarea" rows="3" placeholder="请输入审核意见..."></textarea>
                        </div>
                        <div class="audit-history">
                            <h5>审核历史</h5>
                            <div id="auditHistory" class="history-content">
                                暂无审核记录
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>